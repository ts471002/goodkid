<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/usertemplate.xhtml">
        <ui:define name="title">
            <h:outputText value="教师个人中心"></h:outputText>
        </ui:define>

        <ui:define name="body">
            <p:layout style="width: auto;height: auto">
                <p:layoutUnit position="west" style="width: auto;height: auto">
                    <p:fieldset legend="教师信息" style="margin-bottom:20px">
                        <h:panelGrid columns="4" cellpadding="20" width="100%">
                            <h:outputText
                                value="编号"/>
                            <h:outputText
                                value="姓名" />
                            <h:outputText
                                value="电子邮箱"/>
                            <h:outputText
                                value="简介" />
                            <h:outputText
                                value="#{teacherController.teacherByTeacherId.id}"  title="id"/>
                            <h:outputText
                                value="#{teacherController.teacherByTeacherId.username}" title="name"/>
                            <h:outputText
                                value="#{teacherController.teacherByTeacherId.email}" title="email"/>
                            <h:outputText
                                value="#{teacherController.teacherByTeacherId.description}" title="description"/>
                        </h:panelGrid>
                    </p:fieldset>
                </p:layoutUnit>

                <p:layoutUnit position="center">
                    <h:form id="CourseForm">
                        <p:fieldset legend="开课信息" style="margin-bottom:20px">
                            <p:dataTable id="datalist" var="itemsbyTeacher" value="#{teacherController.coursesByTeacherId}"
                                         selectionMode="single" selection="#{courseController.selected}"
                                         paginator="true"
                                         rowKey="#{itemsbyTeacher.id}"
                                         rows="10"
                                         rowsPerPageTemplate="10,20,30,40,50"
                                         >
                                <p:ajax event="rowSelect"   update="createButton editButton deleteButton"/>
                                <p:ajax event="rowUnselect" update="createButton editButton deleteButton"/>
                                <p:column headerText="Id">
                                    <h:outputText value="#{itemsbyTeacher.id}" />
                                </p:column>
                                <p:column headerText="Name">
                                    <p:link href="/faces/tecourse/tecoursesPage.xhtml?courseid=#{itemsbyTeacher.id}" value="#{itemsbyTeacher.name}" ></p:link>
                                </p:column>
                                <p:column headerText="Type">
                                    <h:outputText value="#{itemsbyTeacher.type}" />
                                </p:column>
                                <p:column headerText="description">
                                    <h:outputText value="#{itemsbyTeacher.description}" />
                                </p:column>
                                <p:column headerText="teacher_id">
                                    <h:outputText value="#{itemsbyTeacher.teacherId}" />
                                </p:column>
                                <f:facet name="footer">
                                    <p:commandButton id="createButton" icon="ui-icon-plus"   value="#{bundle.Create}" actionListener="#{courseController.prepareCreate()}" update=":CourseCreateForm" oncomplete="PF('CourseCreateDialog').show()"/>
                                    <p:commandButton id="editButton"   icon="ui-icon-pencil" value="#{bundle.Edit}" update=":CourseEditForm" oncomplete="PF('CourseEditDialog').show()" disabled="#{empty courseController.selected}"/>
                                    <p:commandButton id="deleteButton" icon="ui-icon-trash"  value="#{bundle.Delete}" actionListener="#{courseController.destroy()}" update=":growl,datalist" disabled="#{empty courseController.selected}"/>
                                    <p:commandButton id="logoutButton" value="logout" action="#{teacherController.logout}" onclick="window.location.href='/goodkid/faces/login.xhtml'"/>
                                </f:facet>
                            </p:dataTable>
                        </p:fieldset>
                    </h:form>
                </p:layoutUnit>
                <ui:include src="tecenter_create.xhtml"/>
                <ui:include src="tecenter_edit.xhtml"/>

            </p:layout>
        </ui:define>
    </ui:composition>
</html>
